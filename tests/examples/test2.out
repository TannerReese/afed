# Test for circular dependence error
# Test for type errors

# x Should parse and evaluate correctly
x: {
	y: {
		audio: "good",
		z: y.audio + " " + video.content
			= `"good VIDEO_CONTENT good"`
	},
	video: {
		content: "VIDEO_CONTENT " + x.y.audio
	}
},

# Should produce redefinition error
x: true + true = `false`,

# Should produce circular dependence error
video: {
	foo: {x: 5 * bar.y =`Eval Error: Circular dependence from variable bar.y`},
	bar: {y: baz.z - 6 =`Eval Error: Circular dependence from variable bar.y`},
	baz: {z: foo.x^2 =`Eval Error: Circular dependence from variable bar.y`}
},

# Should produce type errors
-"Hello" = `Eval Error: Unary operator - not implemented for type string`,
1 * false = `Eval Error: Binary operator * not implemented between types number and boolean`,
"Hello" + [1, 2] = `Eval Error: Binary operator + not implemented between types string and array`,

